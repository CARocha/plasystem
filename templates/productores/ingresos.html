{% extends "productores/base_dashboard.html" %}

{% block content %}
<div class="content">
  <div class="">
    <div class="page-header-title">
      <h4 class="page-title">Ingresos</h4>
    </div>
  </div>

  <div class="page-content-wrapper ">

    <div class="container">

      <div class="row">
        <div class="col-sm-4 col-lg-2">
          <div class="panel text-center">
            <div class="panel-heading">
              <h4 class="panel-title text-muted font-light"><b>Familias</b></h4>
            </div>
            <div class="panel-body p-t-10">
              <h2 class="m-t-0 m-b-15"><b>{{familias}}</b></h2>
              <p class="text-muted m-b-0 m-t-20"><b>Total</b></p>
            </div>
          </div>
        </div>

        <div class="col-sm-4 col-lg-2">
          <div class="panel text-center">
            <div class="panel-heading">
              <h4 class="panel-title text-muted font-light"><b>Hombres</b></h4>
            </div>
            <div class="panel-body p-t-10">
              <h2 class="m-t-0 m-b-15"><b>{{hombres}}</b></h2>
              <p class="text-muted m-b-0 m-t-20"><b>Total</b></p>
            </div>
          </div>
        </div>

        <div class="col-sm-4 col-lg-2">
          <div class="panel text-center">
            <div class="panel-heading">
              <h4 class="panel-title text-muted font-light"><b>Mujeres</b></h4>
            </div>
            <div class="panel-body p-t-10">
              <h2 class="m-t-0 m-b-15"><b>{{mujeres}}</b></h2>
              <p class="text-muted m-b-0 m-t-20"><b>Total</b></p>
            </div>
          </div>
        </div>
        <div class="col-sm-4 col-lg-2">
          <div class="panel text-center">
            <div class="panel-heading">
              <h4 class="panel-title text-muted font-light"><b>Menores de 35</b></h4>
            </div>
            <div class="panel-body p-t-10">
              <h2 class="m-t-0 m-b-15"><b>{{menores_35}}</b></h2>
              <p class="text-muted m-b-0 m-t-20"><b>Total</b></p>
            </div>
          </div>
        </div>
        <div class="col-sm-4 col-lg-2">
          <div class="panel text-center">
            <div class="panel-heading">
              <h4 class="panel-title text-muted font-light"><b>Hectareas</b></h4>
            </div>
            <div class="panel-body p-t-10">
              <h2 class="m-t-0 m-b-15"><b>{{hectareas}}</b></h2>
              <p class="text-muted m-b-0 m-t-20"><b>Promedio</b></p>
            </div>
          </div>
        </div>
        <div class="col-sm-4 col-lg-2">
          <div class="panel text-center">
            <div class="panel-heading">
              <h4 class="panel-title text-muted font-light"><b>Certificación</b></h4>
            </div>
            <div class="panel-body p-t-10">
              <h2 class="m-t-0 m-b-15"><b>{{certificacion}}</b></h2>
              <p class="text-muted m-b-0 m-t-20"><b>Productores</b></p>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-6">
          <div class="panel panel-primary">
            <div class="panel-body">
              <h4 class="m-t-0">Detalles de los cultivos <span class="mdi mdi-help-circle"></span></h4>
              <div id="grafico1"></div>
            </div>
          </div>
        </div>

        <div class="col-sm-6">
          <div class="panel panel-primary">
            <div class="panel-body">
              <h4 class="m-t-0">Ventas de productos sanos al mercado <span class="mdi mdi-help-circle"></span></h4>
              <div role="tabpanel tabs-grafico">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                  <li role="presentation" class="active">
                    <a href="#café" aria-controls="café" role="tab" data-toggle="tab">Café</a>
                  </li>
                  <li role="presentation">
                    <a href="#cacao" aria-controls="cacao" role="tab" data-toggle="tab">Cacao</a>
                  </li>
                  <li role="presentation">
                    <a href="#hortaliza" aria-controls="hortaliza" role="tab" data-toggle="tab">Hortalizas</a>
                  </li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content">
                  <div role="tabpanel" class="tab-pane active" id="café">
                    <div id="grafico2-1" width:'100%' style="height: 350px;"></div>
                  </div>
                  <div role="tabpanel" class="tab-pane" id="cacao">
                    <div id="grafico2-2" width:'100%' style="height: 350px;"></div>
                  </div>
                  <div role="tabpanel" class="tab-pane" id="hortaliza">
                    <div id="grafico2-3" width:'100%' style="height: 350px;"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-4">
          <div class="panel panel-primary">
            <div class="panel-body">
              <h4 class="m-t-0">Contribucion al ingreso por rubro <span class="mdi mdi-help-circle"></span></h4>
              <div id="grafico3" width:'100%' style="height: 300px;"></div>
            </div>
          </div>
        </div>
      <div class="col-sm-4">

      </div>
      <div class="col-sm-4">

      </div>
    </div>

    <div class="row">
      <div class="col-sm-6">
        <div class="panel panel-primary">
          <div class="panel-body">
            <h4 class="m-t-0">Incremento e volumen de venta de productos sanos al mercado formal e informal <span class="mdi mdi-help-circle"></span></h4>
            <div role="tabpanel tabs-grafico">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active">
                  <a href="#café-4" aria-controls="café-4" role="tab" data-toggle="tab">Café</a>
                </li>
                <li role="presentation">
                  <a href="#cacao-4" aria-controls="cacao-4" role="tab" data-toggle="tab">Cacao</a>
                </li>
                <li role="presentation">
                  <a href="#hortaliza-4" aria-controls="hortaliza-4" role="tab" data-toggle="tab">Hortalizas</a>
                </li>
              </ul>

              <!-- Tab panes -->
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="café-4">
                  <div id="grafico4-1" width:'100%' style="height: 350px;"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="cacao-4">
                  <div id="grafico4-2" width:'100%' style="height: 350px;"></div>
                </div>
                <div role="tabpanel" class="tab-pane" id="hortaliza-4">
                  <div id="grafico4-3" width:'100%' style="height: 350px;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>
</div>
{% endblock %}

{% block extra_js %}
<script type="text/javascript">
Highcharts.chart('grafico2-1', {
chart: {
  type: 'column'
},
title: {
  text: ''
},
xAxis: {
  categories: [{% for key in anios.keys %}'{{key}}',{% endfor %}],
  title: {
    text: null
  }
},
yAxis: {
  min: 0,
  title: {
    text: 'Volumen',
    // align: 'high'
  },
  labels: {
    overflow: 'justify'
  }
},
tooltip: {
  valueSuffix: 'ha'
},
plotOptions: {
  column: {
    dataLabels: {
      enabled: true
    }
  }
},
credits: {
  enabled: false
},
series: [{
  name: 'Formal',
  data: [{% for values in anios.values %}
    {% for k,v in values.items %}
    {% if k == 'Café' %}
    {{v.0|default:'0'}},
    {% endif %}
    {% endfor %}
    {% endfor %}]
  }, {
    name: 'Informal',
    data: [{% for values in anios.values %}
      {% for k,v in values.items %}
      {% if k == 'Café' %}
      {{v.1|default:'0'}},
      {% endif %}
      {% endfor %}
      {% endfor %}]
    }],
  });

Highcharts.chart('grafico2-2', {
chart: {
  type: 'column'
},
title: {
  text: ''
},
xAxis: {
  categories: [{% for key in anios.keys %}'{{key}}',{% endfor %}],
  title: {
    text: null
  }
},
yAxis: {
  min: 0,
  title: {
    text: 'Volumen',
    // align: 'high'
  },
  labels: {
    overflow: 'justify'
  }
},
tooltip: {
  valueSuffix: 'ha'
},
plotOptions: {
  column: {
    dataLabels: {
      enabled: true
    }
  }
},
credits: {
  enabled: false
},
series: [{
  name: 'Formal',
  data: [{% for values in anios.values %}
    {% for k,v in values.items %}
    {% if k == 'Cacao' %}
    {{v.0|default:'0'}},
    {% endif %}
    {% endfor %}
    {% endfor %}]
  }, {
    name: 'Informal',
    data: [{% for values in anios.values %}
      {% for k,v in values.items %}
      {% if k == 'Cacao' %}
      {{v.1|default:'0'}},
      {% endif %}
      {% endfor %}
      {% endfor %}]
    }],
  });

Highcharts.chart('grafico2-3', {
  chart: {
    type: 'column'
  },
  title: {
    text: ''
  },
  xAxis: {
    categories: [{% for key in anios.keys %}'{{key}}',{% endfor %}],
    title: {
      text: null
    }
  },
  yAxis: {
    min: 0,
    title: {
      text: 'Volumen',
      // align: 'high'
    },
    labels: {
      overflow: 'justify'
    }
  },
  tooltip: {
    valueSuffix: 'ha'
  },
  plotOptions: {
    column: {
      dataLabels: {
        enabled: true
      }
    }
  },
  credits: {
    enabled: false
  },
  series: [{
    name: 'Formal',
    data: [{% for values in anios.values %}
      {% for k,v in values.items %}
      {% if k == 'Hortalizas' %}
      {{v.0|default:'0'}},
      {% endif %}
      {% endfor %}
      {% endfor %}]
    }, {
      name: 'Informal',
      data: [{% for values in anios.values %}
        {% for k,v in values.items %}
        {% if k == 'Hortalizas' %}
        {{v.1|default:'0'}},
        {% endif %}
        {% endfor %}
        {% endfor %}]
      }],
    });

Highcharts.chart('grafico3', {
  chart: {
    plotBackgroundColor: null,
    plotBorderWidth: 0,
    plotShadow: false
  },
  title: {
    text: 'Café',
    align: 'center',
    verticalAlign: 'middle',
    y: 40
  },
  tooltip: {
    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
  },
  plotOptions: {
    pie: {
      dataLabels: {
        enabled: true,
        distance: -50,
        style: {
          fontWeight: 'bold',
          color: 'white'
        }
      },
      startAngle: -90,
      endAngle: 90,
      center: ['50%', '75%']
    }
  },
  series: [{
    type: 'pie',
    name: 'Browser share',
    innerSize: '50%',
    data: [
      ['Firefox',   10.38],
      ['IE',       56.33],
      ['Chrome', 24.03],
      ['Safari',    4.77],
      ['Opera',     0.91],
      {
        name: 'Proprietary or Undetectable',
        y: 0.2,
        dataLabels: {
          enabled: false
        }
      }
    ]
  }]
});

Highcharts.chart('grafico4', {

    title: {
        text: 'Solar Employment Growth by Sector, 2010-2016'
    },

    subtitle: {
        text: 'Source: thesolarfoundation.com'
    },

    yAxis: {
        title: {
            text: 'Number of Employees'
        }
    },
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'middle'
    },

    plotOptions: {
        series: {
            pointStart: 2010
        }
    },

    series: [{
        name: 'Installation',
        data: [43934, 52503, 57177, 69658, 97031, 119931, 137133, 154175]
    }, {
        name: 'Manufacturing',
        data: [24916, 24064, 29742, 29851, 32490, 30282, 38121, 40434]
    }, {
        name: 'Sales & Distribution',
        data: [11744, 17722, 16005, 19771, 20185, 24377, 32147, 39387]
    }, {
        name: 'Project Development',
        data: [null, null, 7988, 12169, 15112, 22452, 34400, 34227]
    }, {
        name: 'Other',
        data: [12908, 5948, 8105, 11248, 8989, 11816, 18274, 18111]
    }]

});
</script>
{% endblock %}
